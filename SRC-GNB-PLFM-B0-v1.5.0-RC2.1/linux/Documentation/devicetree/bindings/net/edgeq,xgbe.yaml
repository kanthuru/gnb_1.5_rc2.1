# SPDX-License-Identifier: GPL-2.0-only OR BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/net/edgeq,xgbe.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: EdgeQ Raptor XGBE Device Tree Bindings

maintainers:
  - Feng Kan <feng.kan@edgeq.io>

# Select every compatible, including the deprecated ones. This way, we
# will be able to report a warning when we have that compatible, since
# we will validate the node thanks to the select, but won't report it
# as a valid value in the compatible property description
select:
  properties:
    compatible:
      contains:
        enum:
          - edgeq,xgbe

  required:
    - compatible

properties:

  # We need to include all the compatibles from schemas that will
  # include that schemas, otherwise compatible won't validate for
  # those.
  compatible:
    contains:
      enum:
        - edgeq,xgbe

  reg:
    minItems: 3
    maxItems: 6

  interrupts:
    minItems: 1
    maxItems: 3
    items:
      - description: Combined signal for various interrupt events

  interrupt-names:
    minItems: 1
    maxItems: 3
    items:
      - const: macirq

  clocks:
    minItems: 1
    maxItems: 3
    additionalItems: true
    items:
      - description: MAC main clock
      - description: PTP reference clock.

  clock-names:
    minItems: 1
    maxItems: 5
    additionalItems: true
    contains:
      enum:
        - pclk
        - ptp_ref

required:
  - compatible
  - reg
  - interrupts
  - interrupt-names
  - phy-mode

